# ---- base image ----
FROM oven/bun:1.1.8 as base
WORKDIR /app

# Install deps first for layer caching
COPY package.json bun.lock ./
RUN bun install

# Copy source
COPY . .

# Expose default React/Bun port
EXPOSE 3000

# Enable Bun hot reloading (bun --hot)
CMD ["bun", "--hot", "src/index.tsx"]
